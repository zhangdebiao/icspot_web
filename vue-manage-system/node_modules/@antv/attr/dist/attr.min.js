!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.attr=e():t.attr=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){function r(t,e){return o(e)?e:t.invert(t.scale(e))}var o=n(4),i=n(1),u=n(10),a=n(3),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null,u(this,e)}return t.prototype._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear){return n[t.translate(e)%n.length]}var r=t.scale(e);return this.getLinearValue(r)},t.prototype.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),o=n*t-r,i=e[r];return i+((r===n?i:e[r+1])-i)*o},t.prototype.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],o=0;o<n;o++)r.push(e[o]);return r},t.prototype.getFields=function(){var t=this.scales,e=[];return a(t,function(t){e.push(t.field)}),e},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r;if(e){for(var u=0,a=r.length;u<a;u++)r[u]=this._toOriginParam(r[u],t[u]);i=e.apply(this,r)}return i=[].concat(i)},t.prototype._toOriginParam=function(t,e){var n=t;if(!e.isLinear)if(i(t)){n=[];for(var o=0,u=t.length;o<u;o++)n.push(r(e,t[o]))}else n=r(e,t);return n},t}();t.exports=c},function(t,e,n){var r=n(2),o=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=o},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){var r=n(9),o=n(1);t.exports=function(t,e){if(t)if(o(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(r(t))for(var u in t)if(t.hasOwnProperty(u)&&!1===e(t[u],u))break}},function(t,e,n){var r=n(2);t.exports=function(t){return r(t,"String")}},function(t,e,n){function r(t,e,n,r){return t[r]+(e[r]-t[r])*n}function o(t){return"#"+i(t[0])+i(t[1])+i(t[2])}function i(t){return t=Math.round(t),1===(t=t.toString(16)).length&&(t="0"+t),t}function u(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var a=n(12),c=n(4),s=n(3),f=/rgba?\(([\s.,0-9]+)\)/,l={},p=null,y={toRGB:function(t){if("#"===t[0]&&7===t.length)return t;p||(p=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}());var e=void 0;if(l[t])e=l[t];else{p.style.color=t,e=document.defaultView.getComputedStyle(p,"").getPropertyValue("color");e=o(f.exec(e)[1].split(/\s*,\s*/)),l[t]=e}return e},rgb2arr:u,gradient:function(t){var e=[];return c(t)&&(t=t.split("-")),s(t,function(t){-1===t.indexOf("#")&&(t=y.toRGB(t)),e.push(u(t))}),function(t){return function(t,e){!isNaN(e)&&a(e)||(e=0);var n=t.length-1,i=Math.floor(n*e),u=n*e-i,c=t[i],s=i===n?c:t[i+1];return o([r(c,s,u,0),r(c,s,u,1),r(c,s,u,2)])}(e,t)}}};t.exports=y},function(t,e,n){t.exports={Position:n(7),Color:n(11),Shape:n(13),Size:n(14),Opacity:n(15),ColorUtil:n(5)}},function(t,e,n){var r=n(8),o=n(1),i=n(3),u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.names=["x","y"],r.type="position",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.mapping=function(t,e){var n=this.scales,u=this.coord,a=n[0],c=n[1],s=void 0,f=void 0,l=void 0;if(r(t)||r(e))return[];if(o(e)&&o(t)){s=[],f=[];for(var p=0,y=0,h=t.length,b=e.length;p<h&&y<b;p++,y++)l=u.convertPoint({x:a.scale(t[p]),y:c.scale(e[y])}),s.push(l.x),f.push(l.y)}else if(o(e))t=a.scale(t),f=[],i(e,function(e){e=c.scale(e),l=u.convertPoint({x:t,y:e}),s&&s!==l.x?(o(s)||(s=[s]),s.push(l.x)):s=l.x,f.push(l.y)});else if(o(t))e=c.scale(e),s=[],i(t,function(t){t=a.scale(t),l=u.convertPoint({x:t,y:e}),f&&f!==l.y?(o(f)||(f=[f]),f.push(l.y)):f=l.y,s.push(l.x)});else{t=a.scale(t),e=c.scale(e);var v=u.convertPoint({x:t,y:e});s=v.x,f=v.y}return[s,f]},e}(n(0));t.exports=u},function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)};t.exports=function(t){var e=void 0===t?"undefined":r(t);return null!==t&&"object"===e||"function"===e}},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,r,o){return e&&n(t,e),r&&n(t,r),o&&n(t,o),t}},function(t,e,n){var r=n(5),o=n(0),i=n(4),u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.names=["color"],r.type="color",r.gradient=null,i(r.values)&&(r.linear=!0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getLinearValue=function(t){var e=this.gradient;if(!e){var n=this.values;e=r.gradient(n),this.gradient=e}return e(t)},e}(o);t.exports=u},function(t,e,n){var r=n(2);t.exports=function(t){return r(t,"Number")}},function(t,e,n){var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.names=["shape"],r.type="shape",r.gradient=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},e}(n(0));t.exports=r},function(t,e,n){var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.names=["size"],r.type="size",r.gradient=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(0));t.exports=r},function(t,e,n){var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.names=["opacity"],r.type="opacity",r.gradient=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(0));t.exports=r}])});